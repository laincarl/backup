<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0" />
    <title>动画</title>
    <link rel="stylesheet" type="text/css" href="http://wnworld.com/wp-content/themes/temp1/css/reset.css">
    <script src="http://libs.baidu.com/jquery/1.10.0/jquery.js"></script>
    <script type="text/javascript" src="plugin.js"></script>
    <style type="text/css">
    .movebox {
        width: 100px;
        height: 100px;
        border: 1px solid #5d5d5d;
        background: #f60;
        overflow: hidden;
        margin: 10px;
        -webkit-animation-duration: 1s;
        -o-animation-duration: 1s;
        animation-duration: 1s;
    }

    @keyframes mymove {
        0% {
            -webkit-transform: translate(0px, 0px);
            -moz-transform: translate(0px, 0px);
            -ms-transform: translate(0px, 0px);
            transform: translate(0px, 0px);
        }
        100% {
            -webkit-transform: translate(100px, 100px);
            -moz-transform: translate(100px, 100px);
            -ms-transform: translate(100px, 100px);
            transform: translate(100px, 100px);
        }
    }

    @-webkit-keyframes mymove {
        0% {
            -webkit-transform: translate(0px, 0px);
            -moz-transform: translate(0px, 0px);
            -ms-transform: translate(0px, 0px);
            transform: translate(0px, 0px);
        }
        100% {
            -webkit-transform: translate(100px, 100px);
            -moz-transform: translate(100px, 100px);
            -ms-transform: translate(100px, 100px);
            transform: translate(100px, 100px);
        }
    }
    </style>
</head>

<body>
    <div class="movebox" id="J_movebox"></div>
    <div class="handguide-btn fixed align-c ">
        <a href="javascript:void(0)" class="wn-btn wn-btn-success" id="J_movingbtn">&nbsp;&nbsp;运动&nbsp;&nbsp; </a>
    </div>
    <script type="text/javascript">
    var movebox = document.getElementById("J_movebox"),
        btn = document.getElementById("J_movingbtn"),
        transition = "transition",
        body = document.body || document.documentElement,
        style = body.style;
    var vendorPrefix = (function() {
        var i = 0,
            vendor = ["Moz", "Webkit", "Khtml", "O", "ms"];
        transition = transition.charAt(0).toUpperCase() + transition.substr(1);
        while (i < vendor.length) {
            if (typeof style[vendor[i] + transition] === "string") {
                return vendor[i];
            }
            i++;
        }
        return false;
    })();
    var animationEnd = (function() {
        if (vendorPrefix == "Webkit") {
            return "webkitAnimationEnd";
        } else {
            return "animationend";
        }
    }());
    movebox.addEventListener(animationEnd, function() {
        alert("执行了" + animationEnd + "事件！");
        movebox.style[vendorPrefix + "AnimationName"] = "";
    }, false)
    btn.onclick = function() {
        movebox.style[vendorPrefix + "AnimationName"] = "mymove";
    }
    </script>
</body>

</html>